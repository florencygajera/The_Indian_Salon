{% extends "base.html" %}
{% block title %}Gallery | {{ salon.name }}{% endblock %}
{% block content %}
<div class="kicker">Gallery</div>
<h2 class="h2">Our Work</h2>
<p class="p">Latest posts from Instagram.</p>

{% if posts and posts|length > 0 %}
<div class="gallery">
    {% for p in posts %}
      <a class="tile" href="{{ p.permalink }}" target="_blank" rel="noopener">
        {% if p.media_type == "VIDEO" and p.thumbnail_url %}
        <img src="{{ p.thumbnail_url }}" alt="Instagram post" loading="lazy">
        {% elif p.media_url %}
        <img src="{{ p.media_url }}" alt="Instagram post" loading="lazy">
        {% else %}
        <img src="/static/img/hero.jpg" alt="Instagram post" loading="lazy">
        {% endif %}
      </a>
    {% endfor %}
  </div>
{% else %}
  <div class="card">
    <h3>No posts synced yet</h3>
    <p class="p">Admin can run: <code>POST /api/instagram/sync</code> after adding IG token.</p>
  </div>
{% endif %}
{% endblock %}
